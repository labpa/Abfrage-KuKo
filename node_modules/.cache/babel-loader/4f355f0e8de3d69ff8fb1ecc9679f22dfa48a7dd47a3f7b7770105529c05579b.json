{"ast":null,"code":"import React,{useEffect,useState}from'react';import dayjs from\"dayjs\";import'./css/App.css';import benzel from'./images/app/benzel-supporter.png';import Vector from'../src/images/app/Vector.png';import Karte from'./images/app/karte-supporter.png';import BarcodeReader from'react-barcode-reader';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const App=()=>{const[data,setData]=useState(null);const[dataWeather,setDataWeather]=useState(null);const[eingabe,setEingabe]=useState(\"\");const[abfrage,setAbfrage]=useState(false);const[warnung,setWarnung]=useState(false);const[warnungText,setWarnungText]=useState(null);// const exampleDate = dayjs('2024-06-31');\nconst exampleDate=dayjs();const[noData,setNoData]=useState(false);const[lastScannedId,setLastScannedId]=useState(\"\");const[scanTimeout,setScanTimeout]=useState(null);// Zeitangabe Anzeige Abfrage\nconst normal=15000;// 15 Sekunden -> Normale Abfrage\nconst lang=20000;// 20 Sekunden -> Abfrage mit Warnung\nconst kurz=3000;// 3 Sekunden -> Abfrage Falsche ID\nconst resetTime=15000;// 15 Sekunden -> Zeit nach der eine ID wieder gescannt werden kann\n// Lookup-Tabellen\nconst waitingSpot={bike:\"Fahrrad\",bottle:\"Flasche\",island:\"Insel\",keys:\"Schlüssel\",kitchen:\"Küche\",mic:\"Mikro\",mobile:\"Mobile Zellen\",sofa:\"Sofa\",star:\"Stern\",sun:\"Sonne\",tent:\"Zelt\",tree:\"Baum\",turtle:\"Taube\",window:\"bitte erfragen\"};const days={Mon:\"Mo, Mon\",Tue:\"Di, Tue\",Wed:\"Mi, Wed\",Thu:\"Do, Thu\",Fri:\"Fr, Fri\",Sat:\"Sa, Sat\",Sun:\"So, Sun\"};const resetLastScannedId=()=>{setLastScannedId(\"\");};// NFC-Reader\nconst handleScan=async data=>{if(data!==\"\"&&data!==lastScannedId){setEingabe(data);setLastScannedId(data);await fetchData(data);// Warte auf die Datenabfrage, bevor du fortfährst\nsetAbfrage(true);if(scanTimeout){clearTimeout(scanTimeout);}setScanTimeout(setTimeout(resetLastScannedId,resetTime));}};const handleError=err=>{console.error(err);};const fetchData=async input=>{try{const trimmedInput=input.trim();if(trimmedInput!==\"\"){const ausgabeResponse=await fetch(\"https://supporter.kulturkosmos.de/api/self-service/shifts/\".concat(trimmedInput));if(!ausgabeResponse.ok){throw new Error('Fehler beim Abrufen der Schichtdaten');}const jsonData=await ausgabeResponse.json();const abfrageWarnung=await fetch('https://supporter.kulturkosmos.de/api/self-service/special-information');const jsonWarnung=await abfrageWarnung.json();if(jsonWarnung.data&&jsonWarnung.data.text){const textWithoutTags=jsonWarnung.data.text.replace(/<[^>]*>/g,' ');setWarnung(true);setWarnungText(textWithoutTags);}if(jsonData.data===null){setNoData(true);setData(false);setWarnung(false);}else{setData(jsonData);}}}catch(error){console.error('Fehler beim Abrufen der Daten:',error);}};//Wetter Daten werden Geladen\nconst fetchWeatherData=async()=>{const apiKey='4d1adda53bf636a53408d0cd1c5ba7b4';const apiUrl='https://api.openweathermap.org/data/2.5/weather';const city='Lärz';const units='metric';const url=\"\".concat(apiUrl,\"?q=\").concat(encodeURIComponent(city),\"&units=\").concat(units,\"&appid=\").concat(apiKey);try{const response=await fetch(url);if(!response.ok){throw new Error('Failed to fetch weather data');}const abfrageWetter=await response.json();setDataWeather(abfrageWetter);return abfrageWetter;}catch(error){console.error('Error fetching weather data:',error);throw error;}};// Funktion, die alle 20 Minuten die Daten aktualisiert\nconst fetchWeatherPeriodically=()=>{const interval=setInterval(async()=>{try{await fetchWeatherData();}catch(error){console.error('Error fetching weather data:',error);}},15*60*1000);// 15 Minuten in Millisekunden umgerechnet\n// Initialen Aufruf außerhalb des Intervals\nfetchWeatherData();// Rückgabe einer Funktion zum Beenden des Intervals, falls nötig\nreturn()=>clearInterval(interval);};// useEffect Wetter\nuseEffect(()=>{fetchWeatherPeriodically();},[]);// useEffect Zeit der Abfrage\nuseEffect(()=>{if(noData){const timer=setTimeout(()=>{setNoData(false);setWarnung(false);setAbfrage(false);},kurz);// 3 seconds\nreturn()=>clearTimeout(timer);}if(abfrage){const timeoutDauer=warnung?lang:normal;const timer=setTimeout(()=>{setAbfrage(false);setWarnung(false);},timeoutDauer);return()=>clearTimeout(timer);}},[abfrage,warnung,normal,lang,kurz,noData]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grundflaeche\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"uhrzeit\".concat(abfrage?' left':''),children:\"I0I00I00000\"}),/*#__PURE__*/_jsx(\"div\",{className:!abfrage?\"box\":\"box boxleft\",children:!abfrage?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Supporter:innen Schichtauskunft\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Supporter Shiftinformation\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"deutsch\",children:\"Bitte halte dein B\\xE4ndsel unter den Scanner\"}),/*#__PURE__*/_jsx(\"h5\",{className:\"englisch\",children:\"Please hold your wristband under the scanner\"}),/*#__PURE__*/_jsx(\"img\",{src:benzel,alt:\"benzel\",className:\"benzel\"}),/*#__PURE__*/_jsx(\"div\",{className:\"wetter\",children:dataWeather&&dataWeather.weather&&dataWeather.weather.length>0?/*#__PURE__*/_jsxs(\"div\",{className:\"wetter-info\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"location\",children:dataWeather.name}),/*#__PURE__*/_jsx(\"img\",{className:\"logo\",src:\"https://openweathermap.org/img/wn/\".concat(dataWeather.weather[0].icon,\"@2x.png\"),alt:\"\"}),/*#__PURE__*/_jsx(\"p\",{className:\"weather-description\",children:dataWeather.weather[0].description}),/*#__PURE__*/_jsxs(\"p\",{className:\"temperature\",children:[\"Temperature: \",Math.round(dataWeather.main.temp),\" \\xB0C\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"feels-like\",children:[\"Feels like: \",Math.round(dataWeather.main.feels_like),\" \\xB0C\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"wind-speed\",children:[\"Wind: \",dataWeather.wind.speed,\" m/s\"]})]}):null})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[warnung&&/*#__PURE__*/_jsx(\"div\",{className:\"scroll-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"warnung\",children:/*#__PURE__*/_jsx(\"div\",{className:\"warnung-text\",children:warnungText})})}),data?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"deutsch-ausgabe\",children:\"Deine Schichten\"}),/*#__PURE__*/_jsx(\"h5\",{className:\"englisch-ausgabe\",children:\"Your Shifts\"}),data.data&&data.data.length>0?data.data.filter(entry=>dayjs(entry.startAt).isAfter(exampleDate)||dayjs(entry.startAt).isSame(exampleDate,'day')).sort((a,b)=>dayjs(a.startAt).diff(exampleDate)-dayjs(b.startAt).diff(exampleDate)).slice(0,3).map((entry,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"ausgabeabfrage\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"main-content\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"index\",children:index+1}),/*#__PURE__*/_jsxs(\"p\",{className:\"days\",children:[/*#__PURE__*/_jsx(\"strong\",{children:days[dayjs(entry.startAt).format('ddd')]}),\" // \",dayjs(entry.startAt).format('DD.MM - HH:mm')]}),/*#__PURE__*/_jsxs(\"p\",{className:\"place\",children:[/*#__PURE__*/_jsx(\"img\",{src:Vector,alt:\"Vector\",className:\"Vector\"}),\" \\xA0 \\xA0 \\xA0  \",waitingSpot[entry.waitingSpot]]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"needs\",children:entry.description.replace(/#\\d+\\s*/,'')})]},index)):/*#__PURE__*/_jsx(\"p\",{})]}):noData&&/*#__PURE__*/_jsxs(\"div\",{className:\"noDataLeft\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"deutsch-ausgabe-no\",children:\"Keine Informationen\"}),/*#__PURE__*/_jsx(\"h5\",{className:\"englisch-ausgabe-no\",children:\"No Information\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"dreieckSupportercare\".concat(abfrage?' left':'')}),/*#__PURE__*/_jsx(\"div\",{className:\"supportercare\".concat(abfrage?' left':''),children:\"Supporter:innen Care\"}),/*#__PURE__*/_jsx(\"div\",{className:\"dreieckCheckin\".concat(abfrage?' left':'')}),/*#__PURE__*/_jsx(\"div\",{className:\"checkin\".concat(abfrage?' left':''),children:\"Supporter:innen Check-In\"}),/*#__PURE__*/_jsx(\"img\",{src:Karte,alt:\"Karte\",className:\"Karte\".concat(abfrage?' left':'')})]}),/*#__PURE__*/_jsx(\"div\",{className:\"barcodeReader\",children:/*#__PURE__*/_jsx(BarcodeReader,{onError:handleError,onScan:handleScan})})]});};export default App;","map":{"version":3,"names":["React","useEffect","useState","dayjs","benzel","Vector","Karte","BarcodeReader","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","data","setData","dataWeather","setDataWeather","eingabe","setEingabe","abfrage","setAbfrage","warnung","setWarnung","warnungText","setWarnungText","exampleDate","noData","setNoData","lastScannedId","setLastScannedId","scanTimeout","setScanTimeout","normal","lang","kurz","resetTime","waitingSpot","bike","bottle","island","keys","kitchen","mic","mobile","sofa","star","sun","tent","tree","turtle","window","days","Mon","Tue","Wed","Thu","Fri","Sat","Sun","resetLastScannedId","handleScan","fetchData","clearTimeout","setTimeout","handleError","err","console","error","input","trimmedInput","trim","ausgabeResponse","fetch","concat","ok","Error","jsonData","json","abfrageWarnung","jsonWarnung","text","textWithoutTags","replace","fetchWeatherData","apiKey","apiUrl","city","units","url","encodeURIComponent","response","abfrageWetter","fetchWeatherPeriodically","interval","setInterval","clearInterval","timer","timeoutDauer","children","className","src","alt","weather","length","name","icon","description","Math","round","main","temp","feels_like","wind","speed","filter","entry","startAt","isAfter","isSame","sort","a","b","diff","slice","map","index","format","onError","onScan"],"sources":["/home/pascal/Projekte/abfrage-api-supporter/src/App.tsx"],"sourcesContent":["import React, { FC, useEffect, useState } from 'react';\nimport dayjs from \"dayjs\";\nimport './css/App.css';\nimport benzel from './images/app/benzel-supporter.png'\nimport Vector from '../src/images/app/Vector.png';\nimport Karte from './images/app/karte-supporter.png'\nimport BarcodeReader from 'react-barcode-reader';\n\n\nconst App: FC = () => {\n    const [data, setData] = useState<any>(null);\n    const [dataWeather, setDataWeather] = useState<any>(null);\n    const [eingabe, setEingabe] = useState<string>(\"\");\n    const [abfrage, setAbfrage] = useState<boolean>(false);\n    const [warnung, setWarnung] = useState<boolean>(false);\n    const [warnungText, setWarnungText] = useState<string | null>(null);\n    // const exampleDate = dayjs('2024-06-31');\n    const exampleDate = dayjs();\n    const [noData, setNoData] = useState<boolean>(false);\n    const [lastScannedId, setLastScannedId] = useState<string>(\"\");\n    const [scanTimeout, setScanTimeout] = useState<NodeJS.Timeout | null>(null);\n\n    // Zeitangabe Anzeige Abfrage\n    const normal = 15000; // 15 Sekunden -> Normale Abfrage\n    const lang = 20000; // 20 Sekunden -> Abfrage mit Warnung\n    const kurz = 3000; // 3 Sekunden -> Abfrage Falsche ID\n    const resetTime = 15000; // 15 Sekunden -> Zeit nach der eine ID wieder gescannt werden kann\n\n    // Lookup-Tabellen\n    const waitingSpot: Record<string, string> = {\n        bike: \"Fahrrad\",\n        bottle: \"Flasche\",\n        island: \"Insel\",\n        keys: \"Schlüssel\",\n        kitchen: \"Küche\",\n        mic: \"Mikro\",\n        mobile: \"Mobile Zellen\",\n        sofa: \"Sofa\",\n        star: \"Stern\",\n        sun: \"Sonne\",\n        tent: \"Zelt\",\n        tree: \"Baum\",\n        turtle: \"Taube\",\n        window: \"bitte erfragen\"\n    };\n\n    const days: Record<string, string> = {\n        Mon: \"Mo, Mon\",\n        Tue: \"Di, Tue\",\n        Wed: \"Mi, Wed\",\n        Thu: \"Do, Thu\",\n        Fri: \"Fr, Fri\",\n        Sat: \"Sa, Sat\",\n        Sun: \"So, Sun\"\n    };\n\n\n    const resetLastScannedId = () => {\n        setLastScannedId(\"\");\n    };\n\n    // NFC-Reader\n    const handleScan = async (data: string) => {\n        if (data !== \"\" && data !== lastScannedId) {\n            setEingabe(data);\n            setLastScannedId(data);\n            await fetchData(data); // Warte auf die Datenabfrage, bevor du fortfährst\n            setAbfrage(true);\n\n            if (scanTimeout) {\n                clearTimeout(scanTimeout);\n            }\n            setScanTimeout(setTimeout(resetLastScannedId, resetTime));\n        }\n    };\n\n    const handleError = (err: any) => {\n        console.error(err);\n    };\n\n    const fetchData = async (input: string) => {\n        try {\n            const trimmedInput = input.trim();\n            if (trimmedInput !== \"\") {\n                const ausgabeResponse = await fetch(`https://supporter.kulturkosmos.de/api/self-service/shifts/${trimmedInput}`);\n\n                if (!ausgabeResponse.ok) {\n                    throw new Error('Fehler beim Abrufen der Schichtdaten');\n                }\n\n                const jsonData = await ausgabeResponse.json();\n                const abfrageWarnung = await fetch('https://supporter.kulturkosmos.de/api/self-service/special-information');\n                const jsonWarnung = await abfrageWarnung.json();\n\n                if (jsonWarnung.data && jsonWarnung.data.text) {\n                    const textWithoutTags = jsonWarnung.data.text.replace(/<[^>]*>/g, ' ');\n                    setWarnung(true);\n                    setWarnungText(textWithoutTags);\n                }\n\n                if (jsonData.data === null) {\n                    setNoData(true);\n                    setData(false);\n                    setWarnung(false);\n                } else {\n                    setData(jsonData);\n                }\n            }\n        } catch (error) {\n            console.error('Fehler beim Abrufen der Daten:', error);\n        }\n    };\n\n\n    //Wetter Daten werden Geladen\n    const fetchWeatherData = async () => {\n        const apiKey = '4d1adda53bf636a53408d0cd1c5ba7b4';\n        const apiUrl = 'https://api.openweathermap.org/data/2.5/weather';\n        const city = 'Lärz';\n        const units = 'metric';\n\n        const url = `${apiUrl}?q=${encodeURIComponent(city)}&units=${units}&appid=${apiKey}`;\n\n        try {\n            const response = await fetch(url);\n            if (!response.ok) {\n                throw new Error('Failed to fetch weather data');\n            }\n            const abfrageWetter = await response.json();\n            setDataWeather(abfrageWetter);\n            return abfrageWetter;\n        } catch (error) {\n            console.error('Error fetching weather data:', error);\n            throw error;\n        }\n    };\n\n    // Funktion, die alle 20 Minuten die Daten aktualisiert\n    const fetchWeatherPeriodically = () => {\n        const interval = setInterval(async () => {\n            try {\n                await fetchWeatherData();\n            } catch (error) {\n                console.error('Error fetching weather data:', error);\n            }\n        }, 15 * 60 * 1000); // 15 Minuten in Millisekunden umgerechnet\n\n        // Initialen Aufruf außerhalb des Intervals\n        fetchWeatherData();\n\n        // Rückgabe einer Funktion zum Beenden des Intervals, falls nötig\n        return () => clearInterval(interval);\n    };\n\n\n    // useEffect Wetter\n    useEffect(() => {\n        fetchWeatherPeriodically();\n    }, []);\n\n\n    // useEffect Zeit der Abfrage\n    useEffect(() => {\n        if (noData) {\n            const timer = setTimeout(() => {\n                setNoData(false);\n                setWarnung(false);\n                setAbfrage(false);\n            }, kurz); // 3 seconds\n            return () => clearTimeout(timer);\n        }\n\n        if (abfrage) {\n            const timeoutDauer = warnung ? lang : normal;\n            const timer = setTimeout(() => {\n                setAbfrage(false);\n                setWarnung(false);\n            }, timeoutDauer);\n            return () => clearTimeout(timer);\n        }\n\n    }, [abfrage, warnung, normal, lang, kurz, noData]);\n\n    return (\n        <div>\n            <div className={\"grundflaeche\"}>\n                <div className={`uhrzeit${abfrage ? ' left' : ''}`}>I0I00I00000</div>\n                <div className={!abfrage ? \"box\" : \"box boxleft\"}>\n                    {!abfrage ? (\n                        <>\n                            <h2>Supporter:innen Schichtauskunft</h2>\n                            <h3>Supporter Shiftinformation</h3>\n                            <h4 className={\"deutsch\"}>Bitte halte dein Bändsel unter den Scanner</h4>\n                            <h5 className={\"englisch\"}>Please hold your wristband under the scanner</h5>\n                            <img src={benzel} alt=\"benzel\" className=\"benzel\" />\n                            <div className={\"wetter\"}>\n                                {dataWeather && dataWeather.weather && dataWeather.weather.length > 0 ? (\n                                    <div className={\"wetter-info\"}>\n                                        <p className={\"location\"}>{dataWeather.name}</p>\n                                        <img\n                                            className={\"logo\"}\n                                            src={`https://openweathermap.org/img/wn/${dataWeather.weather[0].icon}@2x.png`}\n                                            alt={\"\"}\n                                        />\n                                        <p className={\"weather-description\"}>{dataWeather.weather[0].description}</p>\n                                        <p className={\"temperature\"}>Temperature: {Math.round(dataWeather.main.temp)} °C</p>\n                                        <p className={\"feels-like\"}>Feels like: {Math.round(dataWeather.main.feels_like)} °C</p>\n                                        <p className={\"wind-speed\"}>Wind: {dataWeather.wind.speed} m/s</p>\n                                    </div>\n                                ) : null}\n                            </div>\n\n                        </>\n                    ) : (\n                        <>\n                            {warnung && (\n                                <div className={\"scroll-container\"}>\n                                    <div className={\"warnung\"}>\n                                        <div className={\"warnung-text\"}>{warnungText}</div>\n                                    </div>\n                                </div>\n                            )}\n                            {data ? (\n                                <>\n                                    <h4 className={\"deutsch-ausgabe\"}>Deine Schichten</h4>\n                                    <h5 className={\"englisch-ausgabe\"}>Your Shifts</h5>\n                                    {data.data && data.data.length > 0 ? (\n                                        data.data\n                                            .filter((entry: any) => dayjs(entry.startAt).isAfter(exampleDate) || dayjs(entry.startAt).isSame(exampleDate, 'day'))\n                                            .sort((a: any, b: any) => dayjs(a.startAt).diff(exampleDate) - dayjs(b.startAt).diff(exampleDate))\n                                            .slice(0, 3)\n                                            .map((entry: any, index: number) => (\n                                                <div className={\"ausgabeabfrage\"} key={index}>\n                                                    <div className=\"main-content\">\n                                                        <p className={\"index\"}>{index + 1}</p>\n                                                        <p className={\"days\"}><strong>{days[dayjs(entry.startAt).format('ddd')]}</strong> // {dayjs(entry.startAt).format('DD.MM - HH:mm')}</p>\n                                                        <p className={\"place\"}><img src={Vector} alt=\"Vector\" className=\"Vector\" /> &nbsp; &nbsp; &nbsp;  {waitingSpot[entry.waitingSpot]}</p>\n                                                    </div>\n                                                    <p className=\"needs\">{entry.description.replace(/#\\d+\\s*/, '')}</p>\n                                                </div>\n                                            ))\n                                    ) : (\n                                        <p></p>\n                                    )}\n                                </>\n                            ) : (\n                                noData  && (\n                                    <div className={\"noDataLeft\"}>\n                                        <h4 className={\"deutsch-ausgabe-no\"}>Keine Informationen</h4>\n                                        <h5 className={\"englisch-ausgabe-no\"}>No Information</h5>\n                                    </div>\n\n                                )\n                            )}\n                        </>\n                    )}\n                </div>\n                <div className={`dreieckSupportercare${abfrage ? ' left' : ''}`}></div>\n                <div className={`supportercare${abfrage ? ' left' : ''}`}>Supporter:innen Care</div>\n                <div className={`dreieckCheckin${abfrage ? ' left' : ''}`}></div>\n                <div className={`checkin${abfrage ? ' left' : ''}`}>Supporter:innen Check-In</div>\n                <img src={Karte} alt={\"Karte\"} className={`Karte${abfrage ? ' left' : ''}`} />\n\n            </div>\n\n            <div className={\"barcodeReader\"}>\n                <BarcodeReader\n                    onError={handleError}\n                    onScan={handleScan}\n                />\n            </div>\n        </div>\n    );\n};\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}